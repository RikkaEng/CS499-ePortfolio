<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enhancement 1 - Rikka Eng</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-css.min.js"></script>
</head>
<body>

    <header>
        <h1>Rikka Eng</h1>
        <h2>Computer Science ePortfolio</h2>
        <nav>
            <a href="index.html">Home</a>
            <a href="code-review.html">Code Review</a>
            <a href="enhancement1.html">Enhancement 1: Software Design & Engineering</a>
            <a href="enhancement2.html">Enhancement 2: Algorithms & Data Structures</a>
            <a href="enhancement3.html">Enhancement 3: Databases</a>
        </nav>
    </header>
    <main>
        <section id="enhancement-header">
            <h2>Enhancement Two: Algorithms and Data Structure</h2>
            <div class="artifact-links">
                <h3>Artifact Files</h3>
                <ul>
                    <li><a href="artifacts/enhancement2-narrative.docx" download>üìÑ Download Original Milestone Word Document</a></li>
                    <li><a href="https://github.com/RikkaEng/CS465-travlr/tree/capstoneEnhancement" target="_blank">üíª View Full Project Code on GitHub</a></li>
                </ul>
            </div>
        </section>

        <section id="artifact-description">
            <h3>Artifact Description</h3>
            <p>
                The artifact I selected for the Algorithms and Data Structure category is still the Travlr Getaways, full-stack 
                travel booking application, which I originally developed in CS 465 (Full Stack Development I) last semester. Again, 
                Travlr Getaways is a MEAN stack application consisting of a customer-facing website built with Express and Handlebars, 
                a RESTful API powered by Node.js and MongoDB, and an Angular-based administrative single-page application for managing 
                trip listings.
            </p>

            <p>
                last week I added improvements to the UI removing several glitches and poor UI quality, now I‚Äôm working on the algorithms 
                part, it consisted of basic CRUD operations for trip management, user authentication with JWT tokens, and server-side rendering 
                for the customer-facing pages. However, it lacked any search or filtering capabilities, forcing users to manually scroll through 
                all available trips to find destinations matching their interests. 
            </p>
        </section>

        <section id="justification">
            <h3>Justification for Inclusion</h3>
            <p>
                I selected this artifact because it provided a great opportunity to demonstrate my understanding of data structures and algorithm 
                optimization through the implementations of database indexing and search algorithms. The enhancement involved several things that 
                I‚Äôve done in terms of algorithms and data structures:
            </p>

            <ul style="margin-left: 40px;">
              <li>
                <strong>‚Ä¢	Database Indexing Strategy:</strong> I implemented an indexing strategy on MongoDB collections to optimize query 
                performance. Specifically, I added single-field indexes on the ‚Äòcode‚Äô and ‚Äòname‚Äô fields, along with a text index spanning the 
                ‚Äònabe‚Äô, ‚Äòresort‚Äô and description fields. With this I‚Äôm able to show that I understand how Binary-search-trees (which MongoDB 
                uses for indexes) can reduce / optimize query time complexity from O(n) to O(log n).
              </li>
              <li>
                <strong>Search Algorithm Implementation:</strong> The search system utilizes two different algorithm approaches. The primary 
                one is MongoDB‚Äôs text search algorithm, which leverages the text index to perform full text searches with word stemming and 
                word relevance. When text search returns no results, the system falls back to a regex-based pattern matching algorithm that 
                searches across multiple fields using OR operations. This fallback ensures that it works similar to other search systems so 
                like for example (if ‚Äúreef‚Äù is typed it populates things with ‚Äúreef‚Äù in it like ‚ÄúDawson‚Äôs Reefs‚Äù).
              </li>
              <li>
                <strong>Query Optimization:</strong> The search endpoint demonstrates algorithmic thinking in how queries are structured. Rather 
                than retrieving all documents and filtering in application code, the search pushes filtering logic to the database layer where 
                indexes can be leveraged. The API endpoint also implements relevance scoring through MongoDB‚Äôs $meta:‚ÄùtextScore‚Äù functionality, 
                sorting results by relevance rather than arbitrary order.
              </li>
            </ul>

          <h3>Search Bar With Empty Search Input:</h3>
            <div class="screenshot">
                <img src="images/SearchBarEmpty.png"
                    alt="Original trip layout with overlapping images"
                    style="max-width: 100%; height: auto; border: 1px solid #ddd; margin: 20px 0;">
            </div>
            
            <h3>Search Bar With "Reef" as Input</h3>
            <div class="screenshot">
                <img src="images/SearchBarReef.png"
                    alt="Original trip layout with overlapping images"
                    style="max-width: 100%; height: auto; border: 1px solid #ddd; margin: 20px 0;">
            </div>

            <h3>Search Bar With "Dawnson" as Input</h3>
            <div class="screenshot">
                <img src="images/SearchBarDawnson.png"
                    alt="Original trip layout with overlapping images"
                    style="max-width: 100%; height: auto; border: 1px solid #ddd; margin: 20px 0;">
            </div>
          
        </section>

        <section id="reflection">
            <h3>Course Outcomes Achievement</h3>
            <p>
                I guess the enhancement leans directly to Outcome 3: ‚ÄúDesign and evaluate computing solutions that solve a given problem using 
                algorithmic principles and computer science practices and standards appropriate to its solution, while managing the trade-offs 
                involved in design choices.‚Äù
            </p>
            <p>
                The implementation of the search bar took part in several considerations in terms of algorithmic optimizations:
            </p>
            <ul style="margin-left: 40px;">
                <li>
                    <strong>Space vs. Time Complexity:</strong>Adding indexes increases storage requirements but dramatically improves query 
                    search time complexity.
                </li>
                <li>
                    <strong>Precision vs. Recall:</strong>The text search prioritizes precision (exact word matches take priority), while the 
                    regex fallback prioritizes recall (catching when only part of the word is typed) This hybrid approach balances both concerns 
                    in terms of finding the right trip type with search results.
                </li>
                <li>
                    <strong>Server-Side vs. Client-Side: </strong>I chose server-side search to leverage database indexes rather than client-side 
                    JavaScript filtering, which would require loading all data upfront and wouldn‚Äôt scale well with larger datasets, but I can 
                    easily change that if the website ends up needing to pull from a lot of sources.
                </li>
            </ul>

            <h3>Reflections:</h3>

            <p>
                The process of implementing this search functionality taught me several lessons about practical algorithms and data structures:
            </p>
            <ul style="margin-left: 40px;">
                <li>
                    <strong>Index Mechanics:</strong> Before this project, I had a surface-level understanding of database indexes but hadn‚Äôt 
                    implemented them in a website before. Working through the implementation of MongoDB‚Äôs indexing gave me some experience in 
                    how text indexes function differently from single-field indexes, and why the order of fields in compound indexes matters for 
                    query optimization. I also learned that MongoDB‚Äôs text indexes use an inverted index data structure, which is standard for 
                    search engines.
                </li>
                <li>
                    <strong>Algorithmic Thinking in API Design:</strong> In this endeavor I had to consider common edge cases like empty search 
                    queries, special characters, and how to handle the case where neither search method returns results. The solution of checking 
                    for an empty search term first, then trying text search, then falling back to regex, demonstrates a decision tree algorithm that 
                    optimizes for the most common cases first. 
                </li>
                <li>
                    <strong>Integration Challenges:</strong> A significant technical challenge was ensuring the search functionality integrated 
                    seamlessly with the existing Handlebars pipeline. The original controller fetched all trips from a single endpoint; I had to modify 
                    it to conditionally route to either the standard list endpoint or the new search endpoint based on query parameters. This required 
                    understanding how Express routing works and how to pass state (the search term) from the controller to the template without breaking 
                    the existing flow.
                </li>
                <li>
                    <strong>Security Considerations: </strong>Implementing regex searches introduced potential security concerns. Regex patterns can be 
                    exploited for a DOS attack through backtracking. I mitigated this by using simple patterns matching with the $regex operator rather 
                    than complex regex patterns, and by limiting searches to specific field rather than arbitrary user-supplied regex. This demonstrates 
                    my developing security mindset when implementing data structure operations. 
                </li>
                <li>
                    <strong>UI/UX and Algorithm Interaction:</strong> UI also plays a part in algorithmic requirements. I planned to implement search as 
                    a client-side filter, but realized this would prevent leveraging database indexes. The decision to use server-side search with page 
                    reloads (rather than AJAX) was driven by consistency with the existing architecture, but it also simplified the algorithmic requirements 
                    since we don‚Äôt need real-time filtering.
                </li>
            </ul>


            <h3>Summary of Technical / Coding Changes: </h3>
            <ul style="margin-left: 40px;">
                <li>
                    <strong>Schema Layer</strong> (<code>app_api/models/travlr.js</code>) I added index definitions to the Mongoose schema, including text indexes 
                    for full-text search capabilities.
                </li>
                <li>
                    <strong>Controller Layer</strong> (<code>app_api/controllers/ trips.js</code>): Implemented the tripsSearch function that executes the two-tier 
                    search algorithm, handling both text search and regex fallback with appropriate error handling
                </li>
                <li>
                    <strong>Routing Layer</strong> (<code>app_api/routes/index.js</code>): added the /trips/search route before the /trips/:tripcode route to ensure 
                    proper route matching.
                </li>
                <li>
                    <strong>Server Controller Layer</strong> (<code>app_server/controllers/travel.js</code>): Modified the travel controller to detect search query 
                    parameters and route requests to the appropriate API endpoint.
                </li>
                <li>
                    <strong>View Layer</strong> (<code>app_server/views/</code>): Created a reusable search partial in Handlebars and integrated it into the travel 
                    template with proper state management for displaying the active search term.
                </li>
            </ul>

            <h3>Conclusion:</h3>

            <p>
                This enhancement successfully demonstrates my competency in algorithms and data structures through the practical application of indexing strategies, a
                search algorithms, and query optimization techniques. The project reinforced that effective use of algorithms and data structures isn‚Äôt just about 
                implementing textbook solutions, it‚Äôs about understanding the trade-offs, considering the scale of the problem, and integrating solutions seamlessly 
                into existing systems while maintaining security and performance standards.
            </p>
                            
        </section>

    </main>
    <footer>
        <p>¬© 2024 Rikka Eng | <a href="https://github.com/RikkaEng/CS499-ePortfolio">GitHub</a></p>
    </footer>

</body>
</html>
